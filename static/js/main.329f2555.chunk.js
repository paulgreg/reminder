(this.webpackJsonpreminder=this.webpackJsonpreminder||[]).push([[0],{134:function(A,e,n){},135:function(A,e,n){"use strict";n.r(e);var t=n(9),g=n.n(t),a=n(40),i=n.n(a),o=(n(47),n(42)),r=n(28),s=n(41),c=n.n(s),u=(n(51),n(20)),l=(n(52),n(53),n(5)),m=[{lang:"en",value:"Remind me to"},{lang:"fr",value:"Rappelle moi de"}];function B(A){var e=A.language,n=A.onLanguageChange,t=void 0===n?function(){}:n;return Object(l.jsx)("select",{className:"LanguageSelector",onChange:function(A){return t(A.target.value)},defaultValue:e,children:m.map((function(A){var e=A.lang,n=A.value;return Object(l.jsx)("option",{value:e,children:n},e)}))})}var D=n(8);var C={placeholder:{en:"to call Mum this evening",fr:"appeler Maman ce soir"}};function f(A){var e=A.language,n=void 0===e?"en":e,g=A.onLanguageChange,a=void 0===g?function(){}:g,i=A.onNewReminder,o=void 0===i?function(){}:i,r=Object(t.useRef)();return Object(l.jsxs)("form",{className:"Form",onSubmit:function(A){A.preventDefault();var e=r.current.value,t=function(A,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),t=D[A].parse(e,n,{forwardDate:!0});if(t&&t.length>=1){var g=e.substring(0,t[0].index).trim();return t.map((function(A){return{date:A.start.date(),msg:g}}))}return[]}(n,e);t.length>0&&(t.forEach((function(A){return o(Object(u.a)(Object(u.a)({},A),{},{userSentence:e}))})),r.current.value="")},children:[Object(l.jsx)(B,{language:n,onLanguageChange:a}),Object(l.jsx)("input",{className:"input",type:"text",ref:r,placeholder:C.placeholder[n],autoFocus:!0})]})}var w={fr:{now:"maintenant",almostNow:"imminent",future:"dans %s",past:"il y a %s",second:{name:" seconde",single:"une seconde"},minute:{name:" minute",single:"une minute"},hour:{name:" heure",single:"une heure"},day:{name:" jour",single:"une journ\xe9e"},week:{name:" semaine",single:"une semaine"},month:{name:" moi",single:"un mois"},year:{name:" ann\xe9e",single:"une anne\xe9e"}},en:{now:"just now",almostNow:"any second",future:"%s from now",past:"%s ago",second:{name:" second",single:"a second"},minute:{name:" minute",single:"a minute"},hour:{name:" hour",single:"an hour"},day:{name:" day",single:"a day"},week:{name:" week",single:"a week"},month:{name:" month",single:"a month"},year:{name:" year",single:"a year"}}};function Q(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),t=n-e.getTime(),g=t<0;if(t=Math.abs(t),!g&&t<3e4)return w[A].now;if(g&&t<3e4)return w[A].almostNow;for(var a=g?w[A].future:w[A].past,i=0;i<d.length;i++){var o=d[i];if(t<=o.max*o.value){var r=Math.round(t/o.value),s=1===r?w[A][o.key].single:r+w[A][o.key].name+"s";return a.replace("%s",s)}}}var d=[{key:"second",value:1e3,max:50},{key:"minute",value:6e4,max:50},{key:"hour",value:36e5,max:22},{key:"day",value:864e5,max:6},{key:"week",value:6048e5,max:3.5},{key:"month",value:2592e6,max:11},{key:"year",value:31536e6,max:1/0}],v=6e4,F=function(A){return function(e){return Object(t.useEffect)((function(){var n=setInterval(e,A);return function(){return clearInterval(n)}}),[e])}},h=(n(134),n.p+"static/media/bin.baf95d0b.svg"),L={en:{past:"Past",present:"Now",future:"Soon",delete:"delete"},fr:{past:"Pass\xe9",present:"Maintenant",future:"Prochainement",delete:"supprimer"}};function E(A){var e=A.language,n=A.reminders,g=void 0===n?[]:n,a=A.onDeleteReminder,i=void 0===a?function(){}:a,o=Object(t.useState)(Date.now()),s=Object(r.a)(o,2),c=s[0],u=s[1],m=3e5,B=function(){document.hidden||u(Date.now())};function D(A){var e=A.className,n=void 0===e?"":e,t=A.language,g=A.label,a=A.list;return a&&0!==a.length?Object(l.jsxs)("div",{className:"ReminderSubList ".concat(n),children:[g," :",Object(l.jsx)("ul",{children:a.map((function(A){var e=A.created,n=A.timestamp,g=A.msg;return Object(l.jsxs)("li",{children:[Q(t,new Date(n))," : ",g,Object(l.jsx)("button",{onClick:function(){return i(e)},className:"button",children:Object(l.jsx)("img",{src:h,alt:L[t].delete})})]},e)}))})]}):null}return F(v)(B),Object(t.useEffect)((function(){return document.addEventListener("visibilitychange",B,!1),function(){return document.removeEventListener("visibilitychange",B)}}),[]),Object(l.jsxs)("div",{className:"ReminderList",children:[Object(l.jsx)(D,{language:e,label:L[e].past,list:g.filter((function(A){return A.timestamp<=c-m}))}),Object(l.jsx)(D,{language:e,label:L[e].present,className:"current",list:g.filter((function(A){var e=A.timestamp;return e>c-m&&e<c+m}))}),Object(l.jsx)(D,{language:e,label:L[e].future,list:g.filter((function(A){return A.timestamp>=c+m}))})]})}function j(A){var e=A.reminders,n=A.onReminderUpdate,t=void 0===n?function(){}:n;return console.log("WebNotification permissions",Notification.permission),"default"===Notification.permission&&setTimeout((function(){Notification.requestPermission((function(A){Notification.permission!==A&&(Notification.permission=A)}))}),1e3),F(v)((function(){if("granted"===Notification.permission){console.log("Checking for notifications to send");var A=Date.now();e.filter((function(e){var n=e.notification,t=e.timestamp;return!n&&t<=A})).forEach((function(A){var e=A.msg,n=A.userSentence,g=new Notification(e,{body:n});console.log("sending notif",g),t(Object(u.a)(Object(u.a)({},A),{},{notification:!0}))}))}})),null}var b=function(){var A=Object(t.useState)(localStorage.reminderLanguage||"en"),e=Object(r.a)(A,2),n=e[0],g=e[1],a=Object(t.useState)(localStorage.reminderList?JSON.parse(localStorage.reminderList):[]),i=Object(r.a)(a,2),s=i[0],u=i[1],m=s.filter((function(A){return A.timestamp<=Date.now()})).length;return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(c.a,{url:"data:image/png;base64,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",alertCount:m}),Object(l.jsx)(j,{reminders:s,onReminderUpdate:function(A){var e=s.map((function(e){return e.created===A.created?A:e}));localStorage.reminderList=JSON.stringify(e),u(e)}}),Object(l.jsx)("h1",{className:"MainTitle",children:"Reminder"}),Object(l.jsx)(f,{language:n,onLanguageChange:function(A){localStorage.reminderLanguage=A,g(A)},onNewReminder:function(A){var e=A.date,n=A.msg,t=A.userSentence,g=[].concat(Object(o.a)(s),[{created:Date.now(),timestamp:e.getTime(),msg:n,userSentence:t}]).sort((function(A,e){return A.timestamp-e.timestamp}));localStorage.reminderList=JSON.stringify(g),u(g)}}),Object(l.jsx)(E,{language:n,reminders:s,onDeleteReminder:function(A){var e=s.filter((function(e){return e.created!==A}));localStorage.reminderList=JSON.stringify(e),u(e)}}),Object(l.jsx)("footer",{children:Object(l.jsx)("a",{href:"https://github.com/paulgreg/reminder",children:"infos"})})]})};i.a.render(Object(l.jsx)(g.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))},47:function(A,e,n){},51:function(A,e,n){},52:function(A,e,n){},53:function(A,e,n){}},[[135,1,2]]]);
//# sourceMappingURL=main.329f2555.chunk.js.map